(function(){var e,t,n,i,o,s=function(e,t){return function(){return e.apply(t,arguments)}},a=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};t=function(){function e(){}return e.prototype.extend=function(e,t){var n,i;for(n in t)i=t[n],null==e[n]&&(e[n]=i);return e},e.prototype.isMobile=function(e){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(e)},e.prototype.createEvent=function(e,t,n,i){var o;return null==t&&(t=!1),null==n&&(n=!1),null==i&&(i=null),null!=document.createEvent?(o=document.createEvent("CustomEvent"),o.initCustomEvent(e,t,n,i)):null!=document.createEventObject?(o=document.createEventObject(),o.eventType=e):o.eventName=e,o},e.prototype.emitEvent=function(e,t){return null!=e.dispatchEvent?e.dispatchEvent(t):t in(null!=e)?e[t]():"on"+t in(null!=e)?e["on"+t]():void 0},e.prototype.addEvent=function(e,t,n){return null!=e.addEventListener?e.addEventListener(t,n,!1):null!=e.attachEvent?e.attachEvent("on"+t,n):e[t]=n},e.prototype.removeEvent=function(e,t,n){return null!=e.removeEventListener?e.removeEventListener(t,n,!1):null!=e.detachEvent?e.detachEvent("on"+t,n):delete e[t]},e.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},e}(),n=this.WeakMap||this.MozWeakMap||(n=function(){function e(){this.keys=[],this.values=[]}return e.prototype.get=function(e){var t,n,i,o,s;for(s=this.keys,t=i=0,o=s.length;o>i;t=++i)if(n=s[t],n===e)return this.values[t]},e.prototype.set=function(e,t){var n,i,o,s,a;for(a=this.keys,n=o=0,s=a.length;s>o;n=++o)if(i=a[n],i===e)return void(this.values[n]=t);return this.keys.push(e),this.values.push(t)},e}()),e=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(e=function(){function e(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return e.notSupported=!0,e.prototype.observe=function(){},e}()),i=this.getComputedStyle||function(e){return this.getPropertyValue=function(t){var n;return"float"===t&&(t="styleFloat"),o.test(t)&&t.replace(o,function(e,t){return t.toUpperCase()}),(null!=(n=e.currentStyle)?n[t]:void 0)||null},this},o=/(\-([a-z]){1})/g,this.WOW=function(){function o(e){null==e&&(e={}),this.scrollCallback=s(this.scrollCallback,this),this.scrollHandler=s(this.scrollHandler,this),this.resetAnimation=s(this.resetAnimation,this),this.start=s(this.start,this),this.scrolled=!0,this.config=this.util().extend(e,this.defaults),this.animationNameCache=new n,this.wowEvent=this.util().createEvent(this.config.boxClass)}return o.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null},o.prototype.init=function(){var e;return this.element=window.document.documentElement,"interactive"===(e=document.readyState)||"complete"===e?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},o.prototype.start=function(){var t,n,i,o;if(this.stopped=!1,this.boxes=function(){var e,n,i,o;for(i=this.element.querySelectorAll("."+this.config.boxClass),o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t);return o}.call(this),this.all=function(){var e,n,i,o;for(i=this.boxes,o=[],e=0,n=i.length;n>e;e++)t=i[e],o.push(t);return o}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(o=this.boxes,n=0,i=o.length;i>n;n++)t=o[n],this.applyStyle(t,!0);return this.disabled()||(this.util().addEvent(window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live?new e(function(e){return function(t){var n,i,o,s,a;for(a=[],n=0,i=t.length;i>n;n++)s=t[n],a.push(function(){var e,t,n,i;for(n=s.addedNodes||[],i=[],e=0,t=n.length;t>e;e++)o=n[e],i.push(this.doSync(o));return i}.call(e));return a}}(this)).observe(document.body,{childList:!0,subtree:!0}):void 0},o.prototype.stop=function(){return this.stopped=!0,this.util().removeEvent(window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval?clearInterval(this.interval):void 0},o.prototype.sync=function(){return e.notSupported?this.doSync(this.element):void 0},o.prototype.doSync=function(e){var t,n,i,o,s;if(null==e&&(e=this.element),1===e.nodeType){for(e=e.parentNode||e,o=e.querySelectorAll("."+this.config.boxClass),s=[],n=0,i=o.length;i>n;n++)t=o[n],a.call(this.all,t)<0?(this.boxes.push(t),this.all.push(t),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(t,!0),s.push(this.scrolled=!0)):s.push(void 0);return s}},o.prototype.show=function(e){return this.applyStyle(e),e.className=e.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(e),this.util().emitEvent(e,this.wowEvent),this.util().addEvent(e,"animationend",this.resetAnimation),this.util().addEvent(e,"oanimationend",this.resetAnimation),this.util().addEvent(e,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(e,"MSAnimationEnd",this.resetAnimation),e},o.prototype.applyStyle=function(e,t){var n,i,o;return i=e.getAttribute("data-wow-duration"),n=e.getAttribute("data-wow-delay"),o=e.getAttribute("data-wow-iteration"),this.animate(function(s){return function(){return s.customStyle(e,t,i,n,o)}}(this))},o.prototype.animate=function(){return"requestAnimationFrame"in window?function(e){return window.requestAnimationFrame(e)}:function(e){return e()}}(),o.prototype.resetStyle=function(){var e,t,n,i,o;for(i=this.boxes,o=[],t=0,n=i.length;n>t;t++)e=i[t],o.push(e.style.visibility="visible");return o},o.prototype.resetAnimation=function(e){var t;return e.type.toLowerCase().indexOf("animationend")>=0?(t=e.target||e.srcElement,t.className=t.className.replace(this.config.animateClass,"").trim()):void 0},o.prototype.customStyle=function(e,t,n,i,o){return t&&this.cacheAnimationName(e),e.style.visibility=t?"hidden":"visible",n&&this.vendorSet(e.style,{animationDuration:n}),i&&this.vendorSet(e.style,{animationDelay:i}),o&&this.vendorSet(e.style,{animationIterationCount:o}),this.vendorSet(e.style,{animationName:t?"none":this.cachedAnimationName(e)}),e},o.prototype.vendors=["moz","webkit"],o.prototype.vendorSet=function(e,t){var n,i,o,s;i=[];for(n in t)o=t[n],e[""+n]=o,i.push(function(){var t,i,a,r;for(a=this.vendors,r=[],t=0,i=a.length;i>t;t++)s=a[t],r.push(e[""+s+n.charAt(0).toUpperCase()+n.substr(1)]=o);return r}.call(this));return i},o.prototype.vendorCSS=function(e,t){var n,o,s,a,r,l;for(r=i(e),a=r.getPropertyCSSValue(t),s=this.vendors,n=0,o=s.length;o>n;n++)l=s[n],a=a||r.getPropertyCSSValue("-"+l+"-"+t);return a},o.prototype.animationName=function(e){var t;try{t=this.vendorCSS(e,"animation-name").cssText}catch(n){t=i(e).getPropertyValue("animation-name")}return"none"===t?"":t},o.prototype.cacheAnimationName=function(e){return this.animationNameCache.set(e,this.animationName(e))},o.prototype.cachedAnimationName=function(e){return this.animationNameCache.get(e)},o.prototype.scrollHandler=function(){return this.scrolled=!0},o.prototype.scrollCallback=function(){var e;return!this.scrolled||(this.scrolled=!1,this.boxes=function(){var t,n,i,o;for(i=this.boxes,o=[],t=0,n=i.length;n>t;t++)e=i[t],e&&(this.isVisible(e)?this.show(e):o.push(e));return o}.call(this),this.boxes.length||this.config.live)?void 0:this.stop()},o.prototype.offsetTop=function(e){for(var t;void 0===e.offsetTop;)e=e.parentNode;for(t=e.offsetTop;e=e.offsetParent;)t+=e.offsetTop;return t},o.prototype.isVisible=function(e){var t,n,i,o,s;return n=e.getAttribute("data-wow-offset")||this.config.offset,s=window.pageYOffset,o=s+Math.min(this.element.clientHeight,this.util().innerHeight())-n,i=this.offsetTop(e),t=i+e.clientHeight,o>=i&&t>=s},o.prototype.util=function(){return null!=this._util?this._util:this._util=new t},o.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},o}()}).call(this);var Formstone=this.Formstone=function(e,t,n){"use strict";function i(e){u.Plugins[e].initialized||(u.Plugins[e].methods._setup.call(n),u.Plugins[e].initialized=!0)}function o(e,t,n,i){var o,s={raw:{}};i=i||{};for(o in i)i.hasOwnProperty(o)&&("classes"===e?(s.raw[i[o]]=t+"-"+i[o],s[i[o]]="."+t+"-"+i[o]):(s.raw[o]=i[o],s[o]=i[o]+"."+t));for(o in n)n.hasOwnProperty(o)&&("classes"===e?(s.raw[o]=n[o].replace(/{ns}/g,t),s[o]=n[o].replace(/{ns}/g,"."+t)):(s.raw[o]=n[o].replace(/.{ns}/g,""),s[o]=n[o].replace(/{ns}/g,t)));return s}function s(){var e,t={transition:"transitionend",MozTransition:"transitionend",OTransition:"otransitionend",WebkitTransition:"webkitTransitionEnd"},i=["transition","-webkit-transition"],o={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},s="transitionend",a="",r="",l=n.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in l.style){s=t[e],u.support.transition=!0;break}f.transitionEnd=s+".{ns}";for(e in i)if(i.hasOwnProperty(e)&&i[e]in l.style){a=i[e];break}u.transition=a;for(e in o)if(o.hasOwnProperty(e)&&o[e]in l.style){u.support.transform=!0,r=o[e];break}u.transform=r}function a(){u.windowWidth=u.$window.width(),u.windowHeight=u.$window.height(),m=d.startTimer(m,v,r)}function r(){for(var e in u.ResizeHandlers)u.ResizeHandlers.hasOwnProperty(e)&&u.ResizeHandlers[e].callback.call(t,u.windowWidth,u.windowHeight)}function l(e,t){return parseInt(e.priority)-parseInt(t.priority)}var c=function(){this.Version="0.8.3",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.window=t,this.$window=e(t),this.document=n,this.$document=e(n),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.userAgent=t.navigator.userAgent||t.navigator.vendor||t.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(t.File&&t.FileList&&t.FileReader),history:!!(t.history&&t.history.pushState&&t.history.replaceState),matchMedia:!(!t.matchMedia&&!t.msMatchMedia),raf:!(!t.requestAnimationFrame||!t.cancelAnimationFrame),touch:!!("ontouchstart"in t||t.DocumentTouch&&n instanceof t.DocumentTouch),transition:!1,transform:!1}},d={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(n){}},startTimer:function(e,t,n,i){return d.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(t)-parseInt(e)},sortDesc:function(e,t){return parseInt(t)-parseInt(e)}},u=new c,p=e.Deferred(),h={base:"{ns}",element:"{ns}-element"},f={namespace:".{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",resize:"resize.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};c.prototype.NoConflict=function(){u.DontConflict=!0;for(var t in u.Plugins)u.Plugins.hasOwnProperty(t)&&(e[t]=u.Conflicts[t],e.fn[t]=u.Conflicts.fn[t])},c.prototype.Plugin=function(n,s){return u.Plugins[n]=function(n,i){function s(t){var o="object"===e.type(t);t=e.extend(!0,{},i.defaults||{},o?t:{});for(var s=this,a=0,l=s.length;l>a;a++){var c=s.eq(a);if(!r(c)){var d="__"+i.guid++,u=i.classes.raw.base+d,p=c.data(n+"-options"),h=e.extend(!0,{$el:c,guid:d,rawGuid:u,dotGuid:"."+u},t,"object"===e.type(p)?p:{});c.addClass(i.classes.raw.element).data(b,h),i.methods._construct.apply(c,[h].concat(Array.prototype.slice.call(arguments,o?1:0)))}}return s}function a(){i.functions.iterate.apply(this,[i.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(i.classes.raw.element).removeData(b)}function r(e){return e.data(b)}function c(t){if(this instanceof e){var n=i.methods[t];return"object"!==e.type(t)&&t?n&&0!==t.indexOf("_")?i.functions.iterate.apply(this,[n].concat(Array.prototype.slice.call(arguments,1))):this:s.apply(this,arguments)}}function p(n){var o=i.utilities[n]||i.utilities._initialize||!1;return o?o.apply(t,Array.prototype.slice.call(arguments,"object"===e.type(n)?0:1)):void 0}function m(t){i.defaults=e.extend(!0,i.defaults,t||{})}function v(t){for(var n=this,i=0,o=n.length;o>i;i++){var s=n.eq(i),a=r(s)||{};"undefined"!==e.type(a.$el)&&t.apply(s,[a].concat(Array.prototype.slice.call(arguments,1)))}return n}var g="fs-"+n,b="fs"+n.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return i.initialized=!1,i.priority=i.priority||10,i.classes=o("classes",g,h,i.classes),i.events=o("events",n,f,i.events),i.functions=e.extend({getData:r,iterate:v},d,i.functions),i.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_destruct:e.noop,_resize:!1,destroy:a},i.methods),i.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:m},i.utilities),i.widget&&(u.Conflicts.fn[n]=e.fn[n],e.fn[b]=c,u.DontConflict||(e.fn[n]=e.fn[b])),u.Conflicts[n]=e[n],e[b]=i.utilities._delegate||p,u.DontConflict||(e[n]=e[b]),i.namespace=n,i.namespaceClean=b,i.guid=0,i.methods._resize&&(u.ResizeHandlers.push({namespace:n,priority:i.priority,callback:i.methods._resize}),u.ResizeHandlers.sort(l)),i}(n,s),p.then(function(){i(n)}),u.Plugins[n]};var m=null,v=20;return u.$window.on("resize.fs",a),a(),e(function(){u.$body=e("body"),p.resolve()}),f.clickTouchStart=f.click+" "+f.touchStart,s(),u}(jQuery,this,document);!function(e,t){"use strict";function n(t){t=t||{};for(var n in y)y.hasOwnProperty(n)&&(u[n]=t[n]?e.merge(t[n],u[n]):u[n]);u=e.extend(u,t),u.minWidth.sort(m.sortDesc),u.maxWidth.sort(m.sortAsc),u.minHeight.sort(m.sortDesc),u.maxHeight.sort(m.sortAsc);for(var i in y)if(y.hasOwnProperty(i)){b[i]={};for(var o in u[i])if(u[i].hasOwnProperty(o)){var s=window.matchMedia("("+y[i]+": "+(u[i][o]===1/0?1e5:u[i][o])+u.unit+")");s.addListener(a),b[i][u[i][o]]=s}}a()}function i(e,t,n){var i=f.matchMedia(t),o=l(i.media);g[o]||(g[o]={mq:i,active:!0,enter:{},leave:{}},g[o].mq.addListener(r));for(var s in n)n.hasOwnProperty(s)&&g[o].hasOwnProperty(s)&&(g[o][s][e]=n[s]);r(g[o].mq)}function o(e,t){if(e)if(t){var n=l(t);g[n]&&(g[n].enter[e]&&delete g[n].enter[e],g[n].leave[e]&&delete g[n].leave[e])}else for(var i in g)g.hasOwnProperty(i)&&(g[i].enter[e]&&delete g[i].enter[e],g[i].leave[e]&&delete g[i].leave[e])}function s(){v={unit:u.unit};for(var e in y)if(y.hasOwnProperty(e))for(var t in b[e])if(b[e].hasOwnProperty(t)&&b[e][t].matches){var n="Infinity"===t?1/0:parseInt(t,10);e.indexOf("max")>-1?(!v[e]||n<v[e])&&(v[e]=n):(!v[e]||n>v[e])&&(v[e]=n)}}function a(){s(),h.trigger(p.mqChange,[v])}function r(e){var t=l(e.media),n=g[t],i=e.matches?p.enter:p.leave;if(n&&n.active||!n.active&&e.matches){for(var o in n[i])n[i].hasOwnProperty(o)&&n[i][o].apply(n.mq);n.active=!0}}function l(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}function c(){return v}var d=t.Plugin("mediaquery",{utilities:{_initialize:n,state:c,bind:i,unbind:o},events:{mqChange:"mqchange"}}),u={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},p=e.extend(d.events,{enter:"enter",leave:"leave"}),h=t.$window,f=h[0],m=d.functions,v=null,g=[],b={},y={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}(jQuery,Formstone),!function(e,t){"use strict";function n(e){e.touches=[],e.touching=!1,this.on(g.dragStart,b.killEvent),e.tap?(e.pan=!1,e.scale=!1,e.swipe=!1,this.on([g.touchStart,g.pointerDown].join(" "),e,s),this.on(g.click,e,d)):(e.pan||e.swipe||e.scale)&&(e.tap=!1,e.swipe&&(e.pan=!0),e.scale&&(e.axis=!1),e.axis?(e.axisX="x"===e.axis,e.axisY="y"===e.axis):f(this,"none"),this.on([g.touchStart,g.pointerDown].join(" "),e,o),this.on(g.mouseDown,e,s))}function i(){this.off(g.namespace),f(this,"")}function o(e){e.preventManipulation&&e.preventManipulation();var t=e.data,n=e.originalEvent;if(n.type.match(/(up|end)$/i))return void c(e);if(n.pointerId){var i=!1;for(var o in t.touches)t.touches[o].id===n.pointerId&&(i=!0,t.touches[o].pageX=n.clientX,t.touches[o].pageY=n.clientY);i||t.touches.push({id:n.pointerId,pageX:n.clientX,pageY:n.clientY})}else t.touches=n.touches;n.type.match(/(down|start)$/i)?s(e):n.type.match(/move$/i)&&a(e)}function s(t){var n=t.data,i="undefined"!==e.type(n.touches)?n.touches[0]:null;if(n.touching||(n.startE=t.originalEvent,n.startX=i?i.pageX:t.pageX,n.startY=i?i.pageY:t.pageY,n.startT=(new Date).getTime(),n.scaleD=1,n.passed=!1),n.tap)n.clicked=!1,n.$el.on([g.touchMove,g.pointerMove].join(" "),n,o).on([g.touchEnd,g.touchCancel,g.pointerUp,g.pointerCancel].join(" "),n,o);else if(n.pan||n.scale){n.$links&&n.$links.off(g.click);var s=u(n.scale?g.scaleStart:g.panStart,t,n.startX,n.startY,n.scaleD,0,0,"","");if(n.scale&&n.touches&&n.touches.length>=2){var r=n.touches;n.pinch={startX:p(r[0].pageX,r[1].pageX),startY:p(r[0].pageY,r[1].pageY),startD:h(r[1].pageX-r[0].pageX,r[1].pageY-r[0].pageY)},s.pageX=n.startX=n.pinch.startX,s.pageY=n.startY=n.pinch.startY}n.touching||(n.touching=!0,n.pan&&y.on(g.mouseMove,n,a).on(g.mouseUp,n,c),y.on([g.touchMove,g.touchEnd,g.touchCancel,g.pointerMove,g.pointerUp,g.pointerCancel].join(" "),n,o),n.$el.trigger(s))}}function a(t){var n=t.data,i="undefined"!==e.type(n.touches)?n.touches[0]:null,o=i?i.pageX:t.pageX,s=i?i.pageY:t.pageY,a=o-n.startX,r=s-n.startY,l=a>0?"right":"left",d=r>0?"down":"up",f=Math.abs(a)>w,m=Math.abs(r)>w;if(n.tap)(f||m)&&n.$el.off([g.touchMove,g.touchEnd,g.touchCancel,g.pointerMove,g.pointerUp,g.pointerCancel].join(" "));else if(n.pan||n.scale)if(!n.passed&&n.axis&&(n.axisX&&m||n.axisY&&f))c(t);else{!n.passed&&(!n.axis||n.axis&&n.axisX&&f||n.axisY&&m)&&(n.passed=!0),n.passed&&(b.killEvent(t),b.killEvent(n.startE));var v=!0,y=u(n.scale?g.scale:g.pan,t,o,s,n.scaleD,a,r,l,d);if(n.scale)if(n.touches&&n.touches.length>=2){var x=n.touches;n.pinch.endX=p(x[0].pageX,x[1].pageX),n.pinch.endY=p(x[0].pageY,x[1].pageY),n.pinch.endD=h(x[1].pageX-x[0].pageX,x[1].pageY-x[0].pageY),n.scaleD=n.pinch.endD/n.pinch.startD,y.pageX=n.pinch.endX,y.pageY=n.pinch.endY,y.scale=n.scaleD,y.deltaX=n.pinch.endX-n.pinch.startX,y.deltaY=n.pinch.endY-n.pinch.startY}else n.pan||(v=!1);v&&n.$el.trigger(y)}}function r(t,n){t.on(g.click,n,l);var i=e._data(t[0],"events").click;i.unshift(i.pop())}function l(e){b.killEvent(e,!0),e.data.$links.off(g.click)}function c(t){var n=t.data;if(n.tap)n.$el.off([g.touchMove,g.touchEnd,g.touchCancel,g.pointerMove,g.pointerUp,g.pointerCancel,g.mouseMove,g.mouseUp].join(" ")),n.startE.preventDefault(),d(t);else if(n.pan||n.scale){var i="undefined"!==e.type(n.touches)?n.touches[0]:null,o=i?i.pageX:t.pageX,s=i?i.pageY:t.pageY,a=o-n.startX,l=s-n.startY,c=(new Date).getTime(),p=n.scale?g.scaleEnd:g.panEnd,h=a>0?"right":"left",f=l>0?"down":"up",m=Math.abs(a)>1,v=Math.abs(l)>1;if(n.swipe&&Math.abs(a)>w&&c-n.startT<x&&(p=g.swipe),n.axis&&(n.axisX&&v||n.axisY&&m)||m||v){n.$links=n.$el.find("a");for(var b=0,k=n.$links.length;k>b;b++)r(n.$links.eq(b),n)}var C=u(p,t,o,s,n.scaleD,a,l,h,f);y.off([g.touchMove,g.touchEnd,g.touchCancel,g.mouseMove,g.mouseUp,g.pointerMove,g.pointerUp,g.pointerCancel].join(" ")),n.$el.trigger(C),n.touches=[],n.scale}n.touching=!1}function d(e){b.killEvent(e);var t=e.data;if(!t.clicked){"click"!==e.type&&(t.clicked=!0);var n=t.startE?t.startX:e.pageX,i=t.startE?t.startY:e.pageY,o=u(g.tap,e.originalEvent,n,i,1,0,0);t.$el.trigger(o)}}function u(t,n,i,o,s,a,r,l,c){return e.Event(t,{originalEvent:n,bubbles:!0,pageX:i,pageY:o,scale:s,deltaX:a,deltaY:r,directionX:l,directionY:c})}function p(e,t){return(e+t)/2}function h(e,t){return Math.sqrt(e*e+t*t)}function f(e,t){e.css({"-ms-touch-action":t,"touch-action":t})}var m=!t.window.PointerEvent,v=t.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1,tap:!1},methods:{_construct:n,_destruct:i},events:{pointerDown:m?"MSPointerDown":"pointerdown",pointerUp:m?"MSPointerUp":"pointerup",pointerMove:m?"MSPointerMove":"pointermove",pointerCancel:m?"MSPointerCancel":"pointercancel"}}),g=v.events,b=v.functions,y=t.$window,w=10,x=50;g.tap="tap",g.pan="pan",g.panStart="panstart",g.panEnd="panend",g.scale="scale",g.scaleStart="scalestart",g.scaleEnd="scaleend",g.swipe="swipe"}(jQuery,Formstone),!function(e,t){"use strict";function n(t){var n=this.closest("label"),i=n.length?n.eq(0):e("label[for="+this.attr("id")+"]"),o=[m.base,t.customClass].join(" "),s="";t.radio="radio"===this.attr("type"),t.group=this.attr("name"),s+='<div class="'+m.marker+'">',s+='<div class="'+m.flag+'"></div>',t.toggle&&(o+=" "+m.toggle,s+='<span class="'+[m.state,m.state_on].join(" ")+'">'+t.labels.on+"</span>",s+='<span class="'+[m.state,m.state_off].join(" ")+'">'+t.labels.off+"</span>"),t.radio&&(o+=" "+m.radio),s+="</div>",i.length?i.addClass(m.label).wrap('<div class="'+o+'"></div>').before(s):this.before('<div class=" '+o+'">'+s+"</div>"),t.$checkbox=i.length?i.parents(f.base):this.prev(f.base),t.$marker=t.$checkbox.find(f.marker),t.$states=t.$checkbox.find(f.state),t.$label=i,this.is(":checked")&&t.$checkbox.addClass(m.checked),this.is(":disabled")&&t.$checkbox.addClass(m.disabled),this.wrap('<div class="'+m.element_wrapper+'"></div>'),this.on(v.focus,t,u).on(v.blur,t,p).on(v.change,t,l).on(v.click,t,r).on(v.deselect,t,d),t.$checkbox.fsTouch({tap:!0}).on(v.tap,t,r)}function i(e){e.$checkbox.off(v.namespace).fsTouch("destroy"),e.$marker.remove(),e.$states.remove(),e.$label.unwrap().removeClass(m.label),this.unwrap().off(v.namespace)}function o(e){this.prop("disabled",!1),e.$checkbox.removeClass(m.disabled)}function s(e){this.prop("disabled",!0),e.$checkbox.addClass(m.disabled)}function a(e){var t=e.$el.is(":disabled"),n=e.$el.is(":checked");t||(n?c({data:e}):d({data:e}))}function r(t){t.stopPropagation();var n=t.data;e(t.target).is(n.$el)||(t.preventDefault(),n.$el.trigger("click"))}function l(e){var t=e.data,n=t.$el.is(":disabled"),i=t.$el.is(":checked");n||(t.radio?c(e):i?c(e):d(e))}function c(t){t.data.radio&&e('input[name="'+t.data.group+'"]').not(t.data.$el).trigger("deselect"),t.data.$checkbox.addClass(m.checked)}function d(e){e.data.$checkbox.removeClass(m.checked)}function u(e){e.data.$checkbox.addClass(m.focus)}function p(e){e.data.$checkbox.removeClass(m.focus)}var h=t.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"}},classes:["element_wrapper","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:n,_destruct:i,enable:o,disable:s,update:a},events:{deselect:"deselect",tap:"tap"}}),f=h.classes,m=f.raw,v=h.events;h.functions}(jQuery,Formstone),!function(e,t){"use strict";function n(){D=t.$body}function i(n){n.multiple=this.prop("multiple"),n.disabled=this.is(":disabled"),n.multiple?n.links=!1:n.external&&(n.links=!0);var i=this.find("[selected]").not(":disabled"),o=this.find(":selected").not(":disabled"),s=o.text(),a=this.find("option").index(o);n.multiple||""===n.label||i.length?n.label="":(o=this.prepend('<option value="" class="'+P.item_placeholder+'" selected>'+n.label+"</option>"),s=n.label,a=0);var r=this.find("option, optgroup"),d=r.filter("option");n.tabIndex=this[0].tabIndex,this[0].tabIndex=-1;var u=[P.base,n.customClass];n.mobile||t.isMobile?u.push(P.mobile):n.cover&&u.push(P.cover),n.multiple&&u.push(P.multiple),n.disabled&&u.push(P.disabled);var p='<div class="'+u.join(" ")+'" tabindex="'+n.tabIndex+'"></div>',h="";n.multiple||(h+='<button type="button" class="'+P.selected+'">',h+=e("<span></span>").text(E(s,n.trim)).html(),h+="</button>"),h+='<div class="'+P.options+'">',h+="</div>",this.wrap(p).after(h),n.$dropdown=this.parent(S.base),n.$allOptions=r,n.$options=d,n.$selected=n.$dropdown.find(S.selected),n.$wrapper=n.$dropdown.find(S.options),n.$placeholder=n.$dropdown.find(S.placeholder),n.index=-1,n.closed=!0,n.focused=!1,l(n),n.multiple||w(a,n),n.$selected.fsTouch({tap:!0}).on(O.tap,n,c),n.$dropdown.on(O.click,S.item,n,m).on(O.close,n,f),this.on(O.change,n,v),t.isMobile||(n.$dropdown.on(O.focusIn,n,g).on(O.focusOut,n,b),this.on(O.focusIn,n,function(e){e.data.$dropdown.trigger(O.raw.focusIn)}))}function o(e){e.$dropdown.hasClass(P.open)&&e.$selected.trigger(O.click),e.$el[0].tabIndex=e.tabIndex,e.$dropdown.off(O.namespace),e.$options.off(O.namespace),e.$placeholder.remove(),e.$selected.fsTouch("destroy").remove(),e.$wrapper.remove(),e.$el.off(O.namespace).show().unwrap()}function s(e,t){if("undefined"!=typeof t){var n=e.$items.index(e.$items.filter("[data-value="+t+"]"));e.$items.eq(n).addClass(P.item_disabled),e.$options.eq(n).prop("disabled",!0)}else e.$dropdown.hasClass(P.open)&&e.$selected.trigger(O.click),e.$dropdown.addClass(P.disabled),e.$el.prop("disabled",!0),e.disabled=!0}function a(e,t){if("undefined"!=typeof t){var n=e.$items.index(e.$items.filter("[data-value="+t+"]"));e.$items.eq(n).removeClass(P.item_disabled),e.$options.eq(n).prop("disabled",!1)}else e.$dropdown.removeClass(P.disabled),e.$el.prop("disabled",!1),e.disabled=!1}function r(e){var t=e.index;e.$allOptions=e.$el.find("option, optgroup"),e.$options=e.$allOptions.filter("option"),e.index=-1,t=e.$options.index(e.$options.filter(":selected")),l(e),e.multiple||w(t,e)}function l(t){for(var n="",i=0,o=0,s=t.$allOptions.length;s>o;o++){var a=t.$allOptions.eq(o),r=[];if("OPTGROUP"===a[0].tagName)r.push(P.group),a.is(":disabled")&&r.push(P.disabled),n+='<span class="'+r.join(" ")+'">'+a.attr("label")+"</span>";else{var l=a.val();a.attr("value")||a.attr("value",l),r.push(P.item),a.hasClass(P.item_placeholder)&&r.push(P.item_placeholder),a.is(":selected")&&r.push(P.item_selected),a.is(":disabled")&&r.push(P.item_disabled),n+='<button type="button" class="'+r.join(" ")+'" ',n+='data-value="'+l+'">',n+=e("<span></span>").text(E(a.text(),t.trim)).html(),n+="</button>",i++}}t.$items=t.$wrapper.html(n).find(S.item)}function c(e){q.killEvent(e);var n=e.data;if(!n.disabled)if(n.mobile||!t.isMobile||t.isFirefoxMobile)n.closed?u(n):p(n);else{var i=n.$el[0];if(Y.createEvent){var o=Y.createEvent("MouseEvents");o.initMouseEvent("mousedown",!1,!0,A,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(o)}else i.fireEvent&&i.fireEvent("onmousedown")}d(n)}function d(t){e(S.base).not(t.$dropdown).trigger(O.close,[t])}function u(e){if(e.closed){var t=e.$dropdown.offset(),n=D.outerHeight(),i=e.$wrapper.outerHeight(!0);e.index>=0?e.$items.eq(e.index).position():{left:0,top:0},t.top+i>n&&e.$dropdown.addClass(P.bottom),D.on(O.click+e.dotGuid,":not("+S.options+")",e,h),e.$dropdown.trigger(O.focusIn),e.$dropdown.addClass(P.open),x(e),e.closed=!1}}function p(e){e&&!e.closed&&(D.off(O.click+e.dotGuid),e.$dropdown.removeClass([P.open,P.bottom].join(" ")),e.closed=!0)}function h(t){q.killEvent(t);var n=t.data;n&&0===e(t.currentTarget).parents(S.base).length&&(p(n),n.$dropdown.trigger(O.focusOut))}function f(e){var t=e.data;t&&(p(t),t.$dropdown.trigger(O.focusOut))}function m(t){q.killEvent(t);var n=e(this),i=t.data;if(!i.disabled){if(i.$wrapper.is(":visible")){var o=i.$items.index(n);o!==i.index&&(w(o,i),k(i))}i.multiple||p(i),i.$dropdown.trigger(O.focusIn)}}function v(t,n){var i=e(this),o=t.data;if(!n&&!o.multiple){var s=o.$options.index(o.$options.filter("[value='"+M(i.val())+"']"));w(s,o),k(o)}}function g(t){q.killEvent(t);var n=(e(t.currentTarget),t.data);n.disabled||n.multiple||n.focused||(d(n),n.focused=!0,n.$dropdown.addClass(P.focus).on(O.keyDown+n.dotGuid,n,y))}function b(t){q.killEvent(t);var n=(e(t.currentTarget),t.data);n.focused&&n.closed&&(n.focused=!1,n.$dropdown.removeClass(P.focus).off(O.keyDown+n.dotGuid),n.multiple||p(n))}function y(n){var i=n.data;if(13===n.keyCode)i.closed||(p(i),w(i.index,i)),k(i);else if(!(9===n.keyCode||n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)){q.killEvent(n);var o=i.$items.length-1,s=i.index<0?0:i.index;if(e.inArray(n.keyCode,t.isFirefox?[38,40,37,39]:[38,40])>-1)s+=38===n.keyCode||t.isFirefox&&37===n.keyCode?-1:1,0>s&&(s=0),s>o&&(s=o);else{var a,r,l=String.fromCharCode(n.keyCode).toUpperCase();for(r=i.index+1;o>=r;r++)if(a=i.$options.eq(r).text().charAt(0).toUpperCase(),a===l){s=r;break}if(0>s||s===i.index)for(r=0;o>=r;r++)if(a=i.$options.eq(r).text().charAt(0).toUpperCase(),a===l){s=r;break}}s>=0&&(w(s,i),x(i))}}function w(e,t){var n=t.$items.eq(e),i=t.$options.eq(e),o=n.hasClass(P.item_selected),s=n.hasClass(P.item_disabled);if(!s)if(t.multiple)o?(i.prop("selected",null),n.removeClass(P.item_selected)):(i.prop("selected",!0),n.addClass(P.item_selected));else if(e>-1&&e<t.$items.length){var a=i.data("label")||n.html();t.$selected.html(a).removeClass(S.item_placeholder),t.$items.filter(S.item_selected).removeClass(P.item_selected),t.$el[0].selectedIndex=e,n.addClass(P.item_selected),t.index=e}else""!==t.label&&t.$selected.html(t.label)}function x(e){var t=e.$items.eq(e.index),n=e.index>=0&&!t.hasClass(P.item_placeholder)?t.position():{left:0,top:0},i=(e.$wrapper.outerHeight()-t.outerHeight())/2;e.$wrapper.scrollTop(e.$wrapper.scrollTop()+n.top-i)}function k(e){e.links?C(e):e.$el.trigger(O.raw.change,[!0])}function C(e){var t=e.$el.val();e.external?A.open(t):A.location.href=t}function E(e,t){return 0===t?e:e.length>t?e.substring(0,t)+"...":e}function M(e){return"string"==typeof e?e.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"):e}var _=t.Plugin("dropdown",{widget:!0,defaults:{cover:!1,customClass:"",label:"",external:!1,links:!1,mobile:!1,trim:0},methods:{_setup:n,_construct:i,_destruct:o,disable:s,enable:a,update:r,open:u,close:p},classes:["cover","bottom","multiple","mobile","open","disabled","focus","selected","options","group","item","item_disabled","item_selected","item_placeholder"],events:{tap:"tap",close:"close"}}),S=_.classes,P=S.raw,O=_.events,q=_.functions,A=t.window,Y=(t.$window,t.document),D=null}(jQuery,Formstone),!function(e,t){"use strict";function n(){h.iterate.call(f,a)}function i(){f=e(u.element)}function o(t){t.maxWidth=t.maxWidth===1/0?"100000px":t.maxWidth,t.mq="(min-width:"+t.minWidth+") and (max-width:"+t.maxWidth+")",t.type="height"===t.property?"outerHeight":"outerWidth",t.target?e.isArray(t.target)||(t.target=[t.target]):t.target=["> *"],i(),e.fsMediaquery("bind",t.rawGuid,t.mq,{enter:function(){l.call(t.$el,t)},leave:function(){r.call(t.$el,t)}})}function s(t){c(t),e.fsMediaquery("unbind",t.rawGuid),i()}function a(e){if(e.data&&(e=e.data),e.enabled)for(var t,n,i,o=0;o<e.target.length;o++){t=0,n=0,i=e.$el.find(e.target[o]),i.css(e.property,"");for(var s=0;s<i.length;s++)n=i.eq(s)[e.type](),n>t&&(t=n);i.css(e.property,t)}}function r(e){e.enabled&&(e.enabled=!1,c(e))}function l(e){if(!e.enabled){e.enabled=!0;var t=e.$el.find("img");t.length&&t.on(p.load,e,a),a(e)}}function c(e){for(var t=0;t<e.target.length;t++)e.$el.find(e.target[t]).css(e.property,"");e.$el.find("img").off(p.namespace)}var d=t.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:o,_destruct:s,_resize:n,resize:a}}),u=d.classes,p=(u.raw,d.events),h=d.functions,f=[]}(jQuery,Formstone),function($){Drupal.behaviors.ubc_research_forms={attach:function(e,t){$("input[type=checkbox], input[type=radio]").once("checkbox").checkbox(),
$("select").once("dropdown").dropdown(),$(".equalize").once("equal").equalize({target:".btn"}),$(".stories-row").once("equalstories").equalize({target:"article.box"}),$(".row.profiles").once("equalprofiles").equalize(),$(".ctarow2").once("equalcta2").equalize({target:[".cta-image",".inner-content"]}),$(".ctarow3").once("equalcta3").equalize({target:[".cta-image",".inner-content"]}),$(".pager-load-more a").addClass("btn btn-unit btn-unit-reverse")}}}(jQuery),function($){$(document).ready(function(){function e(){var e=window.location.hash.substring(1);if(e){var t=$(".accordion a#"+e);t&&(t.parents(".accordion").addClass("accordion-open").removeClass("accordion-closed"),$("html, body").animate({scrollTop:$(t).offset().top},600,function(){}))}}$("a.anchor[href^='#']").on("click",function(e){e.preventDefault(),$("html, body").animate({scrollTop:$(this.hash).offset().top},300,function(){})}),$(function(){$(document).on("click",'a[href^="#"]',function(e){var t=$(e.target).attr("href"),n=$(t);n.parents(".accordion").addClass("accordion-open").removeClass("accordion-closed")})}),$(document).ready(function(){e()})})}(jQuery);